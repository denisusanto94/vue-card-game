/* Card Deck - responsive layout */

/* Global fullscreen setup */
html, body {
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
	background: #0b1020;
}

.carddeck-app {
	--card-w: 180px;
	--card-h: calc(var(--card-w) * 1.4);
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	height: 100svh;
	margin: 0;
	padding: 0;
	background-color: #0b1020;
	overflow: hidden;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	background-attachment: fixed;
}

.carddeck-app .controls {
	margin-bottom: 0;
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 8px;
	position: absolute;
	bottom: 20%;
	left: 50%;
	transform: translateX(-50%);
}

.carddeck-app .deck { max-width: none; width: 100%; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; }
.carddeck-app { background-color: #0b1020; }

.carddeck-app .stacks { 
	display: flex; 
	flex-direction: column; 
	gap: 22px; 
	justify-content: center; 
	align-items: center; 
	margin: 0; 
	padding: 20px; 
	background: transparent; 
	border: none; 
	border-radius: 16px; 
	backdrop-filter: none;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: min(90vw, 1200px);
	max-width: 100%;
	min-height: 60vh;
}
.carddeck-app .badge-level { 
	display: flex; 
	gap: 12px; 
	align-items: center; 
	justify-content: center; 
	margin: 0; 
	padding-top: 8px;
	position: fixed;
	top: 10px;
	left: 50%;
	transform: translateX(-50%);
	z-index: 2100;
}
.carddeck-app .badge-level .badge-item { width: 36px; height: 36px; display: grid; place-items: center; border-radius: 999px; background: rgba(241,245,249,0.85); box-shadow: inset 0 0 0 1px #e2e8f0; transition: transform .18s ease, background .18s ease, box-shadow .18s ease, filter .18s ease; backdrop-filter: blur(2px); }
.carddeck-app .badge-level .badge-item img { width: 22px; height: 22px; }
.carddeck-app .badge-level .badge-item.active { background: #e0f2fe; box-shadow: inset 0 0 0 2px #38bdf8, 0 4px 10px rgba(56,189,248,.25); transform: translateY(-1px) scale(1.05); }
.carddeck-app .badge-level .badge-item.passed { filter: grayscale(0.9) brightness(0.95); opacity: 0.85; }
.carddeck-app .badge-level .badge-item:not(.active):hover { transform: translateY(-1px); }

.carddeck-app .stack {
	margin: 0;
	width: var(--card-w);
	text-align: center;
	cursor: pointer;
}

.carddeck-app .stack-info { margin-bottom: 8px; color: #e5e7eb; text-shadow: 0 1px 2px rgba(0,0,0,.35); font-weight: 600; font-size: 15px; letter-spacing: .2px; }
.carddeck-app .stack .count { margin-left: 4px; }

.carddeck-app .card {
	border: 1px solid rgba(255,255,255,0.25);
	border-radius: 12px;
	padding: 16px;
	background: rgba(255,255,255,0.95);
	backdrop-filter: blur(2px);
	user-select: none;
	box-shadow: 0 6px 16px rgba(0,0,0,0.18);
	text-align: center;
}

.carddeck-app .card.back { background: #f3f5f7; }
.carddeck-app .stack-area { position: relative; height: calc(var(--card-h) + 40px); perspective: 800px; }
.carddeck-app .card3d { width: var(--card-w); height: var(--card-h); position: absolute; left: 50%; transform-style: preserve-3d; transform-origin: center; transition: transform 0.5s ease; border-radius: 14px; overflow: hidden; border: 1px solid rgba(255,255,255,0.28); box-shadow: 0 8px 20px rgba(0,0,0,0.18); background: #fff; }
.carddeck-app .card3d .face { 
	position: absolute; 
	width: 100%; 
	height: 100%; 
	backface-visibility: hidden; 
	display: block; 
	font-size: 26px; 
}
.carddeck-app .card3d .face.front { 
	display: block; 
	padding: 0; 
	box-sizing: border-box; 
	position: relative;
}
.carddeck-app .card3d .face.front .front-img { 
	width: 100%; 
	height: 100%; 
	object-fit: cover; 
	border-radius: 8px; 
	position: absolute;
	top: 0;
	left: 0;
}
.carddeck-app .card3d .face.front { 
	background: transparent; 
}
.carddeck-app .card3d .face.front .front-label { 
	font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; 
	font-weight: 700; 
	font-size: 18px; 
	color: #fff; 
	letter-spacing: 0.4px; 
	text-shadow: 0 2px 4px rgba(0,0,0,0.8); 
	position: absolute;
	bottom: 8px;
	left: 50%;
	transform: translateX(-50%);
	background: rgba(0,0,0,0.6);
	padding: 4px 8px;
	border-radius: 4px;
	backdrop-filter: blur(4px);
}
.carddeck-app .card3d.opened .face.front .front-label { font-size: 19px; }
.carddeck-app .card3d .face.back { 
	background-image: url('../card/back-card.png'); 
	background-size: cover; 
	background-position: center; 
	background-repeat: no-repeat; 
	color: transparent; 
	font-size: 0; 
	background-color: transparent;
	display: block;
	padding: 0;
	box-sizing: border-box;
}

/* Ensure no labels appear on face back */
.carddeck-app .card3d .face.back * {
	display: none !important;
	visibility: hidden !important;
	opacity: 0 !important;
}

.carddeck-app .card3d .face.back .front-label {
	display: none !important;
	visibility: hidden !important;
	opacity: 0 !important;
	background: none !important;
}
.carddeck-app .card3d.opened .face.back { background-image: none; background-color: transparent; }
.carddeck-app .card3d .front { transform: rotateY(180deg); }
.carddeck-app .card3d.opened .front { transform: rotateY(0deg); }
.carddeck-app .card3d.opened { transform: translateX(-50%) rotateY(180deg) var(--stackTransform); }
.carddeck-app .card3d:not(.opened) { transform: translateX(-50%) rotateY(0deg) var(--stackTransform); }
.carddeck-app .card3d.opened { z-index: 999; }
.carddeck-app button { padding: 10px 14px; border-radius: 10px; border: 1px solid #bbb; cursor: pointer; background: rgba(255,255,255,0.9); box-shadow: 0 3px 8px rgba(0,0,0,.18); }
.carddeck-app button:disabled { opacity: 0.6; cursor: not-allowed; background: rgba(255,255,255,0.5); }

/* Play button specific styles */
.carddeck-app .play-button {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 180px;
	height: 40px;
	border-radius: 0px;
	border: none;
	cursor: pointer;
	background-image: url('../icon/button play.png');
	background-size: 100% 100%;
	background-position: center;
	background-repeat: no-repeat;
	background-color: transparent;
	box-shadow: 0 4px 12px rgba(0,0,0,0.2);
	transition: all 0.3s ease;
	backdrop-filter: blur(4px);
}

.carddeck-app .play-button:hover:not(:disabled) {
	transform: translateY(-2px);
	box-shadow: 0 6px 16px rgba(0,0,0,0.3);
	background-color: transparent;
	background-size: 100% 100%;
	filter: brightness(1.1);
}

.carddeck-app .play-button:active:not(:disabled) {
	transform: translateY(0);
	box-shadow: 0 2px 8px rgba(0,0,0,0.2);
	background-size: 100% 100%;
	filter: brightness(0.9);
}

.carddeck-app .play-button:disabled {
	opacity: 0.5;
	cursor: not-allowed;
	transform: none;
	background-size: 100% 100%;
	background-color: transparent;
}

.carddeck-app .play-button span {
	color: #333;
	font-weight: 600;
	font-size: 12px;
	text-shadow: 0 1px 2px rgba(255,255,255,0.8);
}
.carddeck-app .btn { padding: 10px 14px; border-radius: 8px; background: #0ea5e9; color: #fff; border: none; font-weight: 700; letter-spacing: .3px; box-shadow: 0 2px 6px rgba(0,0,0,.15); }
.carddeck-app .btn:hover { filter: brightness(1.05); }
.carddeck-app .btn:disabled { opacity: 0.6; cursor: not-allowed; filter: none; }
.carddeck-app .empty { color: #e2e8f0; font-style: italic; text-shadow: 0 1px 2px rgba(0,0,0,.35); }
.carddeck-app .stack-area::before { content: ''; position: absolute; left: 50%; top: 0; width: var(--card-w); height: var(--card-h); transform: translateX(-50%); background: rgba(249,250,251,0.55); border: 1px solid rgba(238,242,246,0.8); border-radius: 14px; pointer-events: none; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.6); }

/* Animation polish */
.carddeck-app .stack .card3d.opened { transition: transform 0.5s ease, box-shadow 0.25s ease; }
.carddeck-app .stack .card3d.opened .front { animation: shine 0.6s ease; }
@keyframes shine {
	0% { filter: brightness(1); }
	40% { filter: brightness(1.25); }
	100% { filter: brightness(1); }
}

/* Responsive: mobile-first */
@media (max-width: 599px) {
	.carddeck-app { 
		--card-w: 140px; 
		--card-h: calc(var(--card-w) * 1.4); 
	}
	.carddeck-app .stacks { 
		width: 95vw; 
		padding: 15px; 
		gap: 15px; 
		min-height: 50vh;
	}
	.carddeck-app .carousel-area { 
		height: calc(var(--card-h) + 60px); 
		min-height: 180px;
	}
	.carddeck-app .stack-info { font-size: 14px; }
	.carddeck-app .badge-level .badge-item { width: 32px; height: 32px; }
	.carddeck-app .badge-level .badge-item img { width: 20px; height: 20px; }
	.carddeck-app .controls { bottom: 15%; }
	body { overflow: hidden; }
}

/* Tablet */
@media (min-width: 600px) and (max-width: 1023px) {
	.carddeck-app { 
		--card-w: 200px; 
		--card-h: calc(var(--card-w) * 1.4); 
	}
	.carddeck-app .stacks { 
		width: 85vw; 
		gap: 20px; 
		padding: 18px;
		min-height: 55vh;
	}
	.carddeck-app .carousel-area { 
		height: calc(var(--card-h) + 70px); 
		min-height: 220px;
	}
	.carddeck-app .badge-level .badge-item { width: 38px; height: 38px; }
	.carddeck-app .badge-level .badge-item img { width: 24px; height: 24px; }
	.carddeck-app .controls { bottom: 18%; }
}

/* Desktop wide */
@media (min-width: 1024px) {
	.carddeck-app { 
		--card-w: 280px; 
		--card-h: calc(var(--card-w) * 1.4); 
	}
	.carddeck-app .stacks { 
		width: 80vw; 
		max-width: 1200px;
		gap: 24px; 
		padding: 20px;
		min-height: 60vh;
	}
	.carddeck-app .carousel-area { 
		height: calc(var(--card-h) + 80px); 
		min-height: 250px;
	}
	.carddeck-app .badge-level .badge-item { width: 44px; height: 44px; }
	.carddeck-app .badge-level .badge-item img { width: 28px; height: 28px; }
	.carddeck-app .controls { bottom: 20%; }
}

/* Ultra-wide screens */
@media (min-width: 1440px) {
	.carddeck-app { 
		--card-w: 320px; 
		--card-h: calc(var(--card-w) * 1.4); 
	}
	.carddeck-app .stacks { 
		width: 70vw; 
		max-width: 1400px;
	}
	.carddeck-app .carousel-area { 
		height: calc(var(--card-h) + 100px); 
	}
}

/* Level Up Overlay */
.carddeck-app .levelup-overlay { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.35); z-index: 2000; animation: fadeIn 250ms ease-out; }
.carddeck-app .levelup-content { display: grid; place-items: center; gap: 10px; background: #ffffff; border-radius: 16px; padding: 18px 22px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); transform: scale(0.9); animation: popIn 380ms cubic-bezier(.2,1.1,.3,1); }
.carddeck-app .levelup-badge { width: 72px; height: 72px; }
.carddeck-app .levelup-text { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; font-size: 22px; font-weight: 800; color: #0f172a; letter-spacing: 0.6px; }

/* User bar */
.carddeck-app .user-bar { 
	position: fixed; 
	right: 10px; 
	top: 10px; 
	display: flex; 
	gap: 8px; 
	align-items: center; 
	z-index: 2100; 
}
.carddeck-app .user-bar .name { color: #e2e8f0; font-weight: 700; text-shadow: 0 1px 2px rgba(0,0,0,.35); }

/* Auth Page */
.carddeck-app .auth-page { position: fixed; inset: 0; display: grid; place-items: center; z-index: 2050; }
.carddeck-app .auth-card { width: min(92vw, 380px); background: rgba(255,255,255,0.96); border-radius: 16px; padding: 18px 20px; box-shadow: 0 10px 30px rgba(0,0,0,.3); display: grid; gap: 10px; }
.carddeck-app .auth-title { font-weight: 800; font-size: 22px; letter-spacing: .4px; color: #0f172a; text-align: center; }
.carddeck-app .auth-form { display: grid; gap: 10px; }
.carddeck-app .auth-input { padding: 10px 12px; border-radius: 10px; border: 1px solid #cbd5e1; }
.carddeck-app .btn.alt { background: #64748b; }
.carddeck-app .btn.muted { background: #94a3b8; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes popIn { 0% { opacity: 0; transform: scale(0.85) translateY(8px); } 60% { opacity: 1; transform: scale(1.04) translateY(0); } 100% { transform: scale(1); }
}

/* 3-Item Carousel Styles */
.carddeck-app .coverflow-container {
	width: 100%;
	max-width: 1000px;
	margin: 0 auto;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
}

.carddeck-app .carousel-area {
	position: relative;
	height: calc(var(--card-h) + 80px);
	perspective: 1200px;
	overflow: visible;
	min-height: 200px;
	width: 100%;
	max-width: 100%;
	background: transparent !important;
	/* Touch/swipe support */
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	touch-action: pan-y;
}

.carddeck-app .carousel-track {
	position: relative;
	height: 100%;
	width: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	transform-style: preserve-3d;
	background: transparent !important;
}

.carddeck-app .carousel-card {
	position: absolute;
	width: var(--card-w);
	height: var(--card-h);
	cursor: pointer;
	transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
	            opacity 0.6s ease,
	            box-shadow 0.6s ease;
	border-radius: 14px;
	overflow: hidden;
	border: 1px solid rgba(255,255,255,0.28);
	box-shadow: 0 8px 20px rgba(0,0,0,0.18);
	background: #fff;
	transform-style: preserve-3d;
	/* Ensure cards are visible */
	left: 50%;
	top: 50%;
	transform-origin: center center;
	z-index: 10;
	/* Touch/swipe support */
	user-select: none;
	-webkit-user-select: none;
	pointer-events: auto;
}

.carddeck-app .carousel-card.is-center:active {
	transform: translate(-50%, -50%) translateZ(5px) scale(0.98) !important;
	transition: transform 0.1s ease;
}

.carddeck-app .carousel-card.is-left:active,
.carddeck-app .carousel-card.is-right:active {
	/* No active effect for non-center cards */
	pointer-events: none;
}

/* Opened card styling for carousel */
.carddeck-app .carousel-card.opened {
	/* Remove !important to allow carousel positioning to work */
	z-index: 999 !important;
}

.carddeck-app .carousel-card.opened .face.back {
	background-image: none !important;
	background-color: transparent !important;
	display: none !important;
}

.carddeck-app .card3d.opened .face.back {
	background-image: none !important;
	background-color: transparent !important;
	display: none !important;
}

.carddeck-app .carousel-card.opened .face.front {
	animation: shine 0.6s ease;
	/* Remove !important to allow carousel positioning to work */
	transform: rotateY(0deg);
	display: block !important;
	background: transparent !important;
	opacity: 1 !important;
}

/* Ensure opened cards follow carousel positioning */
.carddeck-app .carousel-card.opened.is-center {
	/* Center card positioning will be handled by carouselCardStyle */
	z-index: 999 !important;
}

.carddeck-app .carousel-card.opened.is-left {
	/* Left card positioning will be handled by carouselCardStyle */
	z-index: 998 !important;
}

.carddeck-app .carousel-card.opened.is-right {
	/* Right card positioning will be handled by carouselCardStyle */
	z-index: 998 !important;
}

.carddeck-app .carousel-card.opened .face.front .front-label {
	display: none !important;
}

.carddeck-app .card3d.opened .face.front .front-label {
	display: none !important;
}

/* Ensure no labels appear on carousel face back */
.carddeck-app .carousel-card .face.back * {
	display: none !important;
	visibility: hidden !important;
	opacity: 0 !important;
}

.carddeck-app .carousel-card .face.back .front-label {
	display: none !important;
	visibility: hidden !important;
	opacity: 0 !important;
	background: none !important;
}

/* Smooth transitions for carousel cards */
.carddeck-app .carousel-card {
	transition: transform 0.5s ease, opacity 0.3s ease;
}

.carddeck-app .carousel-card.opened {
	transition: transform 0.5s ease, opacity 0.3s ease;
}

.carddeck-app .carousel-card.is-left,
.carddeck-app .carousel-card.is-right {
	opacity: 0.6;
	filter: grayscale(0.3);
}

.carddeck-app .carousel-card.is-center {
	opacity: 1;
	filter: grayscale(0);
}

.carddeck-app .carousel-area.dragging .carousel-card {
	transition: none; /* Disable transition during drag for smooth experience */
}

.carddeck-app .carousel-area.shuffling { background: transparent !important; }

.carddeck-app .carousel-area.shuffling .carousel-card {
	animation: shuffle 0.5s ease-in-out;
}

@keyframes shuffle {
	0% { transform: translate(-50%, -50%) rotateY(0deg) scale(1); }
	25% { transform: translate(-50%, -50%) rotateY(90deg) scale(0.8); }
	50% { transform: translate(-50%, -50%) rotateY(180deg) scale(1.1); }
	75% { transform: translate(-50%, -50%) rotateY(270deg) scale(0.8); }
	100% { transform: translate(-50%, -50%) rotateY(360deg) scale(1); }
}

.carddeck-app .carousel-area.dragging { background: transparent !important; }

.carddeck-app .carousel-area:active { background: transparent !important; }

.carddeck-app .carousel-card.is-center:hover {
	box-shadow: 0 12px 28px rgba(0,0,0,0.25);
	transform: translate(-50%, -50%) translateZ(10px) scale(1.02) !important;
	cursor: pointer;
}

.carddeck-app .carousel-card.is-left:hover,
.carddeck-app .carousel-card.is-right:hover {
	cursor: default;
	/* No hover effect for non-center cards */
}

.carddeck-app .carousel-card.is-center {
	z-index: 100;
	box-shadow: 0 15px 35px rgba(0,0,0,0.3);
}

.carddeck-app .carousel-card.is-center:hover {
	box-shadow: 0 20px 40px rgba(0,0,0,0.4);
}

.carddeck-app .carousel-card.is-left,
.carddeck-app .carousel-card.is-right {
	cursor: pointer;
}

.carddeck-app .carousel-card.is-left:hover {
	transform: translateX(-160px) translateZ(-60px) rotateY(-30deg) scale(0.85) !important;
	box-shadow: 0 15px 35px rgba(0,0,0,0.25);
}

.carddeck-app .carousel-card.is-right:hover {
	transform: translateX(160px) translateZ(-60px) rotateY(30deg) scale(0.85) !important;
	box-shadow: 0 15px 35px rgba(0,0,0,0.25);
}


.carddeck-app .coverflow-indicators {
	position: absolute;
	bottom: 10px;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	gap: 8px;
	z-index: 200;
}

.carddeck-app .indicator {
	width: 8px;
	height: 8px;
	border-radius: 50%;
	background: rgba(255,255,255,0.4);
	cursor: pointer;
	transition: all 0.3s ease;
}

.carddeck-app .indicator.active {
	background: rgba(255,255,255,0.9);
	transform: scale(1.3);
}

.carddeck-app .indicator:hover {
	background: rgba(255,255,255,0.7);
}

/* Responsive adjustments for 3-item carousel */
@media (max-width: 599px) {
	.carddeck-app .carousel-card.is-left:hover {
		transform: translateX(-140px) translateZ(-50px) rotateY(-25deg) scale(0.85) !important;
	}
	
	.carddeck-app .carousel-card.is-right:hover {
		transform: translateX(140px) translateZ(-50px) rotateY(25deg) scale(0.85) !important;
	}
	
	.carddeck-app .coverflow-indicators {
		bottom: 5px;
	}
	
	.carddeck-app .indicator {
		width: 6px;
		height: 6px;
	}
}

@media (min-width: 600px) and (max-width: 1023px) {
	.carddeck-app .carousel-card.is-left:hover {
		transform: translateX(-160px) translateZ(-60px) rotateY(-28deg) scale(0.85) !important;
	}
	
	.carddeck-app .carousel-card.is-right:hover {
		transform: translateX(160px) translateZ(-60px) rotateY(28deg) scale(0.85) !important;
	}
}

@media (min-width: 1024px) {
	.carddeck-app .carousel-card.is-left:hover {
		transform: translateX(-200px) translateZ(-80px) rotateY(-30deg) scale(0.85) !important;
	}
	
	.carddeck-app .carousel-card.is-right:hover {
		transform: translateX(200px) translateZ(-80px) rotateY(30deg) scale(0.85) !important;
	}
}

/* Volume Control Styles */
.carddeck-app .volume-toggle {
	position: fixed;
	left: 10px;
	top: 10px;
	width: 40px;
	height: 40px;
	background: rgba(255, 255, 255, 0.9);
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 18px;
	cursor: pointer;
	z-index: 2100;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
	transition: all 0.3s ease;
	backdrop-filter: blur(4px);
}

.carddeck-app .volume-toggle:hover {
	background: rgba(255, 255, 255, 1);
	transform: scale(1.1);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.carddeck-app .volume-control {
	position: fixed;
	left: 10px;
	top: 60px;
	width: 280px;
	background: rgba(255, 255, 255, 0.95);
	border-radius: 12px;
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
	z-index: 2100;
	opacity: 0;
	transform: translateY(-10px);
	transition: all 0.3s ease;
	pointer-events: none;
	backdrop-filter: blur(10px);
}

.carddeck-app .volume-control.show {
	opacity: 1;
	transform: translateY(0);
	pointer-events: auto;
}

.carddeck-app .volume-panel {
	padding: 16px;
}

.carddeck-app .volume-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 12px;
}

.carddeck-app .volume-title {
	font-family: 'Inter', sans-serif;
	font-weight: 600;
	font-size: 16px;
	color: #2D1B69;
}

.carddeck-app .volume-close {
	width: 24px;
	height: 24px;
	border: none;
	background: none;
	font-size: 18px;
	color: #666;
	cursor: pointer;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.2s ease;
}

.carddeck-app .volume-close:hover {
	background: rgba(0, 0, 0, 0.1);
	color: #333;
}

.carddeck-app .volume-slider-container {
	display: flex;
	align-items: center;
	gap: 12px;
}

.carddeck-app .volume-mute-btn {
	width: 36px;
	height: 36px;
	border: none;
	background: rgba(138, 43, 226, 0.1);
	border-radius: 8px;
	font-size: 16px;
	cursor: pointer;
	transition: all 0.3s ease;
	display: flex;
	align-items: center;
	justify-content: center;
}

.carddeck-app .volume-mute-btn:hover {
	background: rgba(138, 43, 226, 0.2);
	transform: scale(1.05);
}

.carddeck-app .volume-mute-btn.muted {
	background: rgba(239, 68, 68, 0.1);
}

.carddeck-app .volume-mute-btn.muted:hover {
	background: rgba(239, 68, 68, 0.2);
}

.carddeck-app .volume-slider {
	flex: 1;
	height: 6px;
	background: #e5e7eb;
	border-radius: 3px;
	outline: none;
	cursor: pointer;
	-webkit-appearance: none;
	appearance: none;
}

.carddeck-app .volume-slider::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	width: 18px;
	height: 18px;
	background: #8A2BE2;
	border-radius: 50%;
	cursor: pointer;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
	transition: all 0.2s ease;
}

.carddeck-app .volume-slider::-webkit-slider-thumb:hover {
	background: #7C3AED;
	transform: scale(1.1);
}

.carddeck-app .volume-slider::-moz-range-thumb {
	width: 18px;
	height: 18px;
	background: #8A2BE2;
	border-radius: 50%;
	cursor: pointer;
	border: none;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.carddeck-app .volume-slider:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.carddeck-app .volume-value {
	font-family: 'Inter', sans-serif;
	font-weight: 500;
	font-size: 14px;
	color: #4A1A7A;
	min-width: 35px;
	text-align: center;
}

/* Love Meter Styles */
.carddeck-app .love-meter {
	position: absolute;
	bottom: 9%;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 6px;
	z-index: 1000;
}

.carddeck-app .love-meter-label {
	font-family: 'SF Pro Display', system-ui, -apple-system, sans-serif;
	font-weight: 700;
	font-size: 16px;
	color: #ff69b4;
	text-shadow: 0 2px 4px rgba(0,0,0,0.5);
	letter-spacing: 1px;
	margin-bottom: 4px;
}

.carddeck-app .love-meter-container {
	position: relative;
	width: 320px;
	height: 45px;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0px !important;
	margin: 0px !important;
	border: 1px solid #ff1493;
}

.carddeck-app .love-meter-bg {
	position: absolute;
	width: 100%;
	height: 100%;
	object-fit: contain;
	z-index: 1;
	filter: drop-shadow(0 2px 8px rgba(255, 105, 180, 0.3));
	padding: 0px !important;
	margin: 0px !important;
}

.carddeck-app .love-meter-track {
	position: absolute;
	left: 5%;
	right: 5%;
	top: 28%;
	bottom: 28%;
	z-index: 2;
	display: block;
	padding: 0px !important;
	margin: 0px !important;
}

.carddeck-app .love-meter-fill {
	position: absolute;
	left: 0;
	top: 0;
	height: 100%;
	overflow: hidden;
	z-index: 2;
	transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	border-radius: 999px;
}

.carddeck-app .love-meter-fill-bg {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, #ff69b4 0%, #ff1493 50%, #dc143c 100%);
	opacity: 0.8;
	border-radius: 999px;
	box-shadow: inset 0 1px 3px rgba(255, 255, 255, 0.3);
}

.carddeck-app .love-meter-heart {
	position: absolute;
	top: 50%;
	transform: translate(-50%, -50%);
	width: 28px;
	height: 28px;
	object-fit: contain;
	z-index: 3;
	transition: left 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	filter: drop-shadow(0 2px 6px rgba(0,0,0,0.4));
	animation: heartPulse 2s ease-in-out infinite;
}

.carddeck-app .love-meter-value {
	font-family: 'SF Pro Display', system-ui, -apple-system, sans-serif;
	font-weight: 600;
	font-size: 14px;
	color: #ff69b4;
	text-shadow: 0 1px 2px rgba(0,0,0,0.3);
	letter-spacing: 0.5px;
	margin-top: 4px;
}

@keyframes heartPulse {
	0%, 100% { transform: translate(-50%, -50%) scale(1); }
	50% { transform: translate(-50%, -50%) scale(1.1); }
}

/* Responsive Love Meter */
@media (max-width: 599px) {
	.carddeck-app .love-meter-container {
		width: 280px;
		height: 40px;
	}

	.carddeck-app .love-meter-track { left: 5%; right: 5%; top: 30%; bottom: 30%; }

	/* Lower a bit more on small screens */
	.carddeck-app .love-meter { bottom: 8%; }
	
	.carddeck-app .love-meter-heart {
		width: 26px;
		height: 26px;
	}
	
	.carddeck-app .love-meter-label {
		font-size: 14px;
	}
	
	.carddeck-app .love-meter-value {
		font-size: 12px;
	}
}

@media (min-width: 600px) and (max-width: 1023px) {
	.carddeck-app .love-meter-container {
		width: 300px;
		height: 42px;
	}

	.carddeck-app .love-meter-track { left: 5%; right: 5%; top: 28%; bottom: 28%; }

	.carddeck-app .love-meter { bottom: 9%; }
	
	.carddeck-app .love-meter-heart {
		width: 28px;
		height: 28px;
	}
	
	.carddeck-app .love-meter-label {
		font-size: 15px;
	}
}

@media (min-width: 1024px) {
	.carddeck-app .love-meter-container {
		width: 320px;
		height: 45px;
	}

	.carddeck-app .love-meter-track { left: 5%; right: 5%; top: 27%; bottom: 27%; }

	.carddeck-app .love-meter { bottom: 10%; }
	
	.carddeck-app .love-meter-heart {
		width: 28px;
		height: 28px;
	}
	
	.carddeck-app .love-meter-label {
		font-size: 16px;
	}
}

/* Responsive Volume Control */
@media (max-width: 768px) {
	.carddeck-app .volume-control {
		width: 260px;
		left: 5px;
		top: 50px;
	}
	
	.carddeck-app .volume-toggle {
		left: 5px;
		width: 36px;
		height: 36px;
		font-size: 16px;
	}
}

@media (max-width: 480px) {
	.carddeck-app .volume-control {
		width: calc(100vw - 20px);
		left: 10px;
		right: 10px;
	}
	
	.carddeck-app .volume-slider-container {
		gap: 8px;
	}
	
	.carddeck-app .volume-mute-btn {
		width: 32px;
		height: 32px;
		font-size: 14px;
	}
}


