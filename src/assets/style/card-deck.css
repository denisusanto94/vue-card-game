/* Card Deck - responsive layout */

.carddeck-app {
	--card-w: 120px;
	--card-h: calc(var(--card-w) * 1.4);
}

.carddeck-app .controls {
	margin-bottom: 12px;
}

.carddeck-app .deck { max-width: 1000px; margin: 0 auto; padding: 12px; }

.carddeck-app .stacks { display: flex; flex-direction: column; gap: 24px; justify-content: center; align-items: center; }

.carddeck-app .stack {
	margin: 12px auto 16px;
	width: var(--card-w);
	text-align: center;
	cursor: pointer;
}

.carddeck-app .stack-info { margin-bottom: 6px; color: #666; }
.carddeck-app .stack .count { margin-left: 4px; }

.carddeck-app .card {
	border: 1px solid #ccc;
	border-radius: 6px;
	padding: 16px;
	background: white;
	user-select: none;
	box-shadow: 0 1px 2px rgba(0,0,0,0.08);
	text-align: center;
}

.carddeck-app .card.back { background: #f3f5f7; }
.carddeck-app .stack-area { position: relative; height: calc(var(--card-h) + 40px); perspective: 800px; }
.carddeck-app .card3d { width: var(--card-w); height: var(--card-h); position: absolute; left: 50%; transform-style: preserve-3d; transform-origin: center; transition: transform 0.5s ease; border-radius: 10px; overflow: hidden; border: 1px solid #cfd6df; box-shadow: 0 2px 6px rgba(0,0,0,0.12); background: #fff; }
.carddeck-app .card3d .face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; font-size: 26px; }
.carddeck-app .card3d .face.front { display: grid; grid-template-rows: 1fr auto; place-items: center; padding: 8px; box-sizing: border-box; gap: 6px; }
.carddeck-app .card3d .face.front .front-img { max-width: 100%; max-height: calc(var(--card-h) - 48px); object-fit: contain; border-radius: 6px; }
.carddeck-app .card3d .face.front { background: #fff; }
.carddeck-app .card3d .face.front .front-label { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; font-weight: 600; font-size: 20px; color: #222; letter-spacing: 0.5px; }
.carddeck-app .card3d.opened .face.front .front-label { font-size: 22px; }
.carddeck-app .card3d .face.back { background-image: url('../card/back-card.png'); background-size: contain; background-position: center; background-repeat: no-repeat; color: transparent; font-size: 0; }
.carddeck-app .card3d.opened .face.back { background-image: none; background-color: #fff; }
.carddeck-app .card3d .front { transform: rotateY(180deg); }
.carddeck-app .card3d.opened { transform: translateX(-50%) rotateY(180deg) var(--stackTransform); }
.carddeck-app .card3d:not(.opened) { transform: translateX(-50%) rotateY(0deg) var(--stackTransform); }
.carddeck-app .card3d.opened { z-index: 999; }
.carddeck-app button { padding: 8px 12px; border-radius: 6px; border: 1px solid #bbb; cursor: pointer; }
.carddeck-app .empty { color: #999; font-style: italic; }
.carddeck-app .stack-area::before { content: ''; position: absolute; left: 50%; top: 0; width: var(--card-w); height: var(--card-h); transform: translateX(-50%); background: #f9fafb; border: 1px solid #eef2f6; border-radius: 10px; pointer-events: none; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.6); }

/* Animation polish */
.carddeck-app .stack .card3d.opened { transition: transform 0.5s ease, box-shadow 0.25s ease; }
.carddeck-app .stack .card3d.opened .front { animation: shine 0.6s ease; }
@keyframes shine {
	0% { filter: brightness(1); }
	40% { filter: brightness(1.25); }
	100% { filter: brightness(1); }
}

/* Responsive: mobile-first */
@media (max-width: 599px) {
	.carddeck-app { --card-w: 100px; --card-h: calc(var(--card-w) * 1.4); }
	.carddeck-app .deck { padding: 8px; }
	.carddeck-app .stacks { gap: 12px; }
	.carddeck-app .card3d .face { font-size: 22px; }
}

/* Tablet */
@media (min-width: 600px) and (max-width: 1023px) {
	.carddeck-app { --card-w: 120px; --card-h: calc(var(--card-w) * 1.4); }
	.carddeck-app .stacks { gap: 20px; }
}

/* Desktop wide */
@media (min-width: 1024px) {
	.carddeck-app { --card-w: 140px; --card-h: calc(var(--card-w) * 1.4); }
	.carddeck-app .deck { max-width: 1100px; }
}


